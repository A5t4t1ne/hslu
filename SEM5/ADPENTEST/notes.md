# Advanced Penetration Testing

## Inhalt

**Information Security:**

- Vertraulichkeit
- Integrität 
- Informationssicherheit 
- Verfügbarkeit




**Schwachstellen- und Gefahrenanalyse**

- Port scanning & Fingerprinting
- Schwachstellen aufdecken
    - Nmap scripts 
    - Nessus 
    - ...


**Post Exploitation:**

- Pivoting / lateral movement


## Windows Security

If Path 

"C:/Program Files/Some Directory/Some Files"

Isn't in quotes and gets executed, it checks if it can execute: 
- C:/Program.exe Files/Some Directory/Some Files
- C:/Program Files/Some.exe Directory/Some Files 
- etc.


## XSS 

Best practice: 

- Input filtering
- Output encoding


## Burp suite

Drop logout packets

### Burp tools

#### Repeater 

Repeat requests


#### Sequencer

Test randomness


#### Decoder 

transform encoded data into it's canonical form.


#### Comparer 

visual 'diff'


#### Intruder 

automate customized attacks (e.g. login brute force)


#### Scanner 

Perform automated vulnerability scans.


### Using external Browser 

- hsts: enforce https
- Certificate pinning: doesn't matter if certificate is valid, it wants exactly the one pinned certificate.


### Steps 

1. Start environment
    - Intercept a request
    - Check the targets
    - Add to scope
    - Check your scope 
2. Collecting everything
    - Can you enter smth
    - Can you change smth 
    - Take a closer look at the request in the proxy
    - Send to Intruder / Repeater / Sequencer / Comparer
    - Only make little changes from the optimal / initial request 



## Injection 

- SQL
- XSS
- XXE - External Entity (XML files injection)
- OS-Command injections - guess what, inject command
- Code Injections - similar to command injection, but code (e.g. PHP) which gets interpreted


### Types 

**Complexity increases**:

- Normal: Full Feedback from statement (UNION SQL injection, e.g. search functions)
- Boolead-based / error-based: Only limited feedback (SQL found/not found, normal UNION doesn't work, login function)
- Blind: No feedback from statement (time-based, out-of-bound -> curl request to <passwd>.myserver.xyz)


### Out-of-bound 


- Use (DNS-like-)Server from Burpsuite



